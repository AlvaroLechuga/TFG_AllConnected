<div class="container">
	<div id="profile-user">
		<br>
		<div *ngIf="identity && identity.image" class="picture-profile">
            <img src="{{url+ 'user/avatar/'+identity.image}}" class="avatar_nav">
          </div>
		<div class="btn-profile">
			<a class="btn btn-success btn-editar" [routerLink]="['/ajustes']">Editar</a>
			<a class="btn btn-success btn-cerrar" [routerLink]="['/logout/1']">Cerrar Sesión</a>
		</div>

		<div class="datos-user">
			<h1>{{user.name+' '+user.surname}}</h1>
			<p>{{'@'+user.nick}}</p>
			<article>
				<strong>{{user.description}}</strong>
			</article>
		</div>

		<div class="informacion-user">
			<table class="table text-center">
				<thead>
	        		<tr>                    
	        			<th class="text-center">Siguiendo</th>
	        			<th class="text-center">Seguidores</th>
	        			<th class="text-center">Publicaciones</th>
	        			<th class="text-center">Me gusta</th>
	    			</tr>
				</thead>
				<tbody>
    				<tr>
        				<td>{{nFollowing}}</td>
        				<td>{{nFollowers}}</td>
        				<td>{{nPublications}}</td>
        				<td>{{nLikes}}</td>
    				</tr>
				</tbody>
			</table>
		</div>
		<h2>Publicaciones</h2>
		<div class="publicaciones" *ngFor="let publication of publications; let i = index" [attr.data-index]="i">
			

			<div id="publicacion">
			    <div class="circulo-imagenPublicacion"><img src="{{url+ 'user/avatar/'+identity.image}}" class="avatar_nav"></div>
			    <p id="datos-publicacion">{{user.name+' '+user.surname+'- @'+user.nick+' - '+time[i]}}</p>
			    <p id="publicacion-publicacion">
			      {{publication.text}}
			    </p>
			        <div id="bnt-admin">
			      <button type="button" class="btn btn-default btn-sm btn-like">
			        <span class="glyphicon glyphicon-heart" title="Me gusta"></span>
			      </button>
			      <button type="button" class="btn btn-default btn-sm btn-response" data-toggle="modal" data-target="#exampleModal" (click)="getIndex(i)">
			        <span class="glyphicon glyphicon-share-alt" title="Responder"></span>
			      </button>

			      <button type="button" class="btn btn-default btn-sm btn-remove" (click)="deletePublication(publication.id)">
			        <span class="glyphicon glyphicon-trash" title="Eliminar"></span>
			      </button>
			    </div>
			</div>
			<hr>
		</div>
	</div>
</div>

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Responder publicación</h5>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="recipient-name" class="col-form-label">Mensaje:</label>
            <textarea disabled rows="4" cols="50" class="form-control" id="message-text">{{publications[indice].text}}</textarea>
          </div>
          <div class="form-group">
            <label for="message-text" class="col-form-label">Respuesta:</label>
            <textarea rows="4" cols="50" class="form-control" id="message-text" #responseuser></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
        <button type="button" class="btn btn-primary" (click)="submitResponse(responseuser.value)">Responder</button>
      </div>
    </div>
  </div>
</div>